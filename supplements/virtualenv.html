

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Working with Virtualenv &mdash; Introduction To Python 1.3 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Introduction To Python 1.3 documentation" href="../index.html"/>
        <link rel="up" title="Supplemental Materials" href="index.html"/>
        <link rel="next" title="Turning Sublime Text Into a Lightweight Python IDE" href="sublime_as_ide.html"/>
        <link rel="prev" title="Setting up Linux for Python and this class" href="python_for_linux.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Introduction To Python</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="../session01.html">Session One: Introductions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#introductions">Introductions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#introduction-to-this-class">Introduction to This Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#introduction-to-your-environment">Introduction to Your Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#setting-up-your-environment">Setting Up Your Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#introduction-to-ipython">Introduction to iPython</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#basic-python-syntax">Basic Python Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#id2">Homework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session01.html#next-class">Next Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session02.html">Session Two: Functions, Booleans and Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#class-outline">Class Outline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#first-a-little-git-primer">First a little git Primer...</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#quick-intro-to-basics">Quick Intro to Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#break-time">BREAK TIME</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#functions">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#boolean-expressions">Boolean Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#in-class-lab">In-Class Lab:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#id1">BREAK TIME</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#code-structure-modules-and-namespaces">Code Structure, Modules, and Namespaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#id3">In-Class Lab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session02.html#homework">Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session03.html">Session Three: Sequences, Iteration and String Formatting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#sequences">Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#lists-tuples">Lists, Tuples...</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#mutability">Mutability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#mutable-sequence-methods">Mutable Sequence Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#id1">Iteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#string-features">String Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#one-last-trick">One Last Trick</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session03.html#homework">Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session04.html">Session Four: Dictionaries, Sets, Exceptions, and Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#a-little-warm-up">A little warm up</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#dictionaries-and-sets">Dictionaries and Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#file-reading-and-writing">File Reading and Writing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#paths-and-directories">Paths and Directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session04.html#homework">Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session05.html">Session Five: Advanced Argument passing, List and Dict Comprehensions, Lambda and Functional programming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#advanced-argument-passing">Advanced Argument Passing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#a-bit-more-on-mutability-and-copies">A bit more on mutability (and copies)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#list-and-dict-comprehensions">List and Dict Comprehensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#anonymous-functions">Anonymous functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#functional-programming">Functional Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session05.html#homework">Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session06.html">Session Six: Object oriented programming: Classes, instances, attributes, and subclassing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session06.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session06.html#object-oriented-programming">Object Oriented Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session06.html#python-classes">Python Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session06.html#subclassing-inheritance">Subclassing/Inheritance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session06.html#more-on-subclassing">More on Subclassing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session07.html">Session Seven: Testing, More OO</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#more-on-subclassing">More on Subclassing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#properties">Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#static-and-class-methods">Static and Class Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#special-methods">Special Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session07.html#homework">Homework</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../session08.html">Session Eight: Generators, Iterators, Decorators, and Context Managers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../session08.html#review-questions">Review/Questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session08.html#decorators">Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session08.html#iterators-and-generators">Iterators and Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session08.html#context-managers">Context Managers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session08.html#homework">Homework</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../homework/index.html">Homework Materials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../homework/kata_fourteen.html">Kata Fourteen: Tom Swift Under Milk Wood</a></li>
<li class="toctree-l2"><a class="reference internal" href="../homework/html_builder.html">HTML Renderer Homework Assignment</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Supplemental Materials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="python_learning_resources.html">Useful Python Learning Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_for_mac.html">Setting up your Mac for Python and this class</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_for_windows.html">Setting up Windows for Python and this class</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_for_linux.html">Setting up Linux for Python and this class</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Working with Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="sublime_as_ide.html">Turning Sublime Text Into a Lightweight Python IDE</a></li>
<li class="toctree-l2"><a class="reference internal" href="shell.html">Shell Customizations for Python Development</a></li>
<li class="toctree-l2"><a class="reference internal" href="unicode.html">Unicode in Python 2</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Introduction To Python</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Supplemental Materials</a> &raquo;</li>
      
    <li>Working with Virtualenv</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/supplements/virtualenv.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="working-with-virtualenv">
<h1>Working with Virtualenv<a class="headerlink" href="#working-with-virtualenv" title="Permalink to this headline">¶</a></h1>
<p>&#8220;For every non-standard package installed in a system Python, the gods kill a
kitten&#8221; - me</p>
<div class="section" id="reasons-why">
<h2>Reasons Why<a class="headerlink" href="#reasons-why" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>As a working developer you will need to install packages that aren&#8217;t in the
Python standard Library</li>
<li>As a working developer you often need to install <em>different</em> versions of the
<em>same</em> library for different projects</li>
<li>Conflicts arising from having the wrong version of a dependency installed can
cause long-term nightmares</li>
<li>Use <a class="reference external" href="http://www.virtualenv.org/">virtualenv</a> ...</li>
<li><strong>Always</strong></li>
</ul>
</div>
<div class="section" id="installing-virtualenv">
<h2>Installing Virtualenv<a class="headerlink" href="#installing-virtualenv" title="Permalink to this headline">¶</a></h2>
<p>The best way is to install directly in your system Python (one exception to the
rule).</p>
<p>To do so you will have to have <a class="reference external" href="http://www.pip-installer.org">pip</a> installed.</p>
<p>Try the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>which pip
/usr/local/bin/pip
</pre></div>
</div>
<p>If the <tt class="docutils literal"><span class="pre">which</span></tt> command returns no value for you, then <tt class="docutils literal"><span class="pre">pip</span></tt> is not
installed in your system. To fix this, follow <a class="reference external" href="http://www.pip-installer.org/en/latest/installing.html">the instructions here</a>.</p>
<p>Once you have <tt class="docutils literal"><span class="pre">pip</span></tt> installed in your system, you can use it to install
<a class="reference external" href="http://www.virtualenv.org/">virtualenv</a>. Because you are installing it into your system python, you will
most likely need <tt class="docutils literal"><span class="pre">superuser</span></tt> privileges to do so:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>sudo pip install virtualenv
Downloading/unpacking virtualenv
  Downloading virtualenv-1.11.2-py2.py3-none-any.whl <span class="o">(</span>2.8MB<span class="o">)</span>: 2.8MB downloaded
Installing collected packages: virtualenv
Successfully installed virtualenv
Cleaning up...
</pre></div>
</div>
<p>Great.  Once that&#8217;s done, you should find that you have a <tt class="docutils literal"><span class="pre">virtualenv</span></tt>
command available to you from your shell:</p>
<div class="highlight-bash"><div class="highlight"><pre>$ virtualenv --help
Usage: virtualenv [OPTIONS] DEST_DIR

Options:
  --version             show program&#39;s version number and exit
  -h, --help            ...
</pre></div>
</div>
</div>
<div class="section" id="using-virtuelenv">
<h2>Using Virtuelenv<a class="headerlink" href="#using-virtuelenv" title="Permalink to this headline">¶</a></h2>
<p>Creating a new virtualenv is very very simple:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>virtualenv <span class="o">[</span>options<span class="o">]</span> &lt;ENV&gt;
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">&lt;ENV&gt;</span></tt> is just the name of the environment you want to create. It&#8217;s
arbitrary. Let&#8217;s make one for demonstration purposes:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>virtualenv demoenv
New python executable in demoenv/bin/python
Installing setuptools, pip...done.
</pre></div>
</div>
<div class="section" id="what-happened">
<h3>What Happened?<a class="headerlink" href="#what-happened" title="Permalink to this headline">¶</a></h3>
<p>When you ran that command, a couple of things took place:</p>
<ul class="simple">
<li>A new directory with your requested name was created</li>
<li>A new Python executable was created in &lt;ENV&gt;/bin (&lt;ENV&gt;/Scripts on Windows)</li>
<li>The new Python was cloned from your system Python (where virtualenv was
installed)</li>
<li>The new Python was isolated from any libraries installed in the old Python</li>
<li>Setuptools was installed so you have <tt class="docutils literal"><span class="pre">easy_install</span></tt> for this new python</li>
<li>Pip was installed so you have <tt class="docutils literal"><span class="pre">pip</span></tt> for this new python</li>
</ul>
</div>
<div class="section" id="activation">
<h3>Activation<a class="headerlink" href="#activation" title="Permalink to this headline">¶</a></h3>
<p>The virtual environment you just created, <tt class="docutils literal"><span class="pre">demoenv</span></tt> contains an executable
Python command, but if you do a quick check to see which Python executable is
found by your terminal, you&#8217;ll see that it is not the one:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>which python
/usr/bin/python
</pre></div>
</div>
<p>You can execute the new Python by explicitly pointing to it:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>./demoenv/bin/python -V
Python 2.7.5
</pre></div>
</div>
<p>but that&#8217;s tedious and hard to remember. Instead, <tt class="docutils literal"><span class="pre">activate</span></tt> your virtualenv
using the <tt class="docutils literal"><span class="pre">source</span></tt> command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span><span class="nb">source </span>demoenv/bin/activate
<span class="o">(</span>demoenv<span class="o">)</span><span class="nv">$ </span>which python
/Users/cewing/demoenv/bin/python
</pre></div>
</div>
<p>There.  That&#8217;s better. Now whenever you run the <tt class="docutils literal"><span class="pre">python</span></tt> command, the
executable that will be used will be the new one in your <tt class="docutils literal"><span class="pre">demoenv</span></tt>.</p>
<p>Notice also that the your shell prompt has changed. It indicates which
<tt class="docutils literal"><span class="pre">virtualenv</span></tt> is currently active. Little clues like that really help you to
keep things straight when you&#8217;ve got a lot of projects going on, so it&#8217;s nice
the makers of virtualenv thought of it.</p>
</div>
<div class="section" id="installing-packages">
<h3>Installing Packages<a class="headerlink" href="#installing-packages" title="Permalink to this headline">¶</a></h3>
<p>Now that your virtualenv is active, not only has your <tt class="docutils literal"><span class="pre">python</span></tt> executable been
hijacked, so have <tt class="docutils literal"><span class="pre">pip</span></tt> and <tt class="docutils literal"><span class="pre">easy_install</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>demoenv<span class="o">)</span><span class="nv">$ </span>which pip
/Users/cewing/demoenv/bin/pip
<span class="o">(</span>demoenv<span class="o">)</span><span class="nv">$ </span>which easy_install
/Users/cewing/demoenv/bin/easy_install
</pre></div>
</div>
<p>This means that using these tools to install packages will install them <em>into
your virtual environment only</em> and not into the system Python.  Let&#8217;s see this
in action. We&#8217;ll install a package called <tt class="docutils literal"><span class="pre">docutils</span></tt> that provides support
for converting ReStructuredText documents into other formats like HTML, LaTeX
and more:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>demoenv<span class="o">)</span><span class="nv">$ </span>pip install docutils
Downloading/unpacking docutils
  Downloading docutils-0.11.tar.gz <span class="o">(</span>1.6MB<span class="o">)</span>: 1.6MB downloaded
  Running setup.py <span class="o">(</span>path:/Users/cewing/demoenv/build/docutils/setup.py<span class="o">)</span> egg_info <span class="k">for </span>package docutils
    ...
    changing mode of /Users/cewing/demoenv/bin/rst2xml.py to 755
    changing mode of /Users/cewing/demoenv/bin/rstpep2html.py to 755
Successfully installed docutils
Cleaning up...
</pre></div>
</div>
<p>And now, when we fire up our Python interpreter, the docutils package is
available to us:</p>
<div class="highlight-pycon"><div class="highlight"><pre><span class="go">(demoenv)$ python</span>
<span class="go">Python 2.7.5 (default, Aug 25 2013, 00:04:04)</span>
<span class="go">[GCC 4.2.1 Compatible Apple LLVM 5.0 (clang-500.0.68)] on darwin</span>
<span class="go">Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">docutils</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">docutils</span><span class="o">.</span><span class="n">__path__</span>
<span class="go">[&#39;/Users/cewing/demoenv/lib/python2.7/site-packages/docutils&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">^</span><span class="n">d</span>
<span class="go">(demoenv)$</span>
</pre></div>
</div>
<p>There&#8217;s one other interesting side-effect of installing software with
<tt class="docutils literal"><span class="pre">virtualenv</span></tt>. The <tt class="docutils literal"><span class="pre">docutils</span></tt> package provides a number of executable
scripts when it is installed: <tt class="docutils literal"><span class="pre">rst2html.py</span></tt>, <tt class="docutils literal"><span class="pre">rst2latex.py</span></tt> and so on.
These scripts are set up to execute using the Python with which they were
built.  What this means is that running these scripts will use the Python
executable in your virtualenv, <em>even if that virtualenv is not active</em>!</p>
</div>
<div class="section" id="deactivation">
<h3>Deactivation<a class="headerlink" href="#deactivation" title="Permalink to this headline">¶</a></h3>
<p>So you&#8217;ve got a virtual environment created.  And you&#8217;ve activated it so that
you can install packages and use them. Eventually you&#8217;ll need to move on to
some other project. This likely means that you&#8217;ll need to stop working with
this <tt class="docutils literal"><span class="pre">virtualenv</span></tt> and switch to another (it&#8217;s a good idea to keep a separate
<tt class="docutils literal"><span class="pre">virtualenv</span></tt> for every project you work on).</p>
<p>When a <tt class="docutils literal"><span class="pre">virtualenv</span></tt> is active, all you have to do is use the <tt class="docutils literal"><span class="pre">deactivate</span></tt>
command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>demoenv<span class="o">)</span><span class="nv">$ </span>deactivate
<span class="nv">$ </span>which python
/usr/bin/python
</pre></div>
</div>
<p>Note that your shell prompt returns to normal, and now the executable Python
found when you check <tt class="docutils literal"><span class="pre">python</span></tt> is the system one again.</p>
</div>
<div class="section" id="cleaning-up">
<h3>Cleaning Up<a class="headerlink" href="#cleaning-up" title="Permalink to this headline">¶</a></h3>
<p>The final great advantage that <tt class="docutils literal"><span class="pre">virtualenv</span></tt> confers on you as a developer is
the ability to easily remove a batch of installed Python software from your
system. Consider a situation where you installed a library that breaks your
Python (it happens).  If you are working in your system Python, you now have to
figure out what that package installed, where, and go clean it out manually.
With <tt class="docutils literal"><span class="pre">virtualenv</span></tt> the process is as simple as removing the directory that
virtualenv created when you started out. Let&#8217;s do that with our <tt class="docutils literal"><span class="pre">demoenv</span></tt>:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>rm -rf demoenv
</pre></div>
</div>
<p>And that&#8217;s it.  The entire environment and all the packages you installed into
it are now gone. There&#8217;s no traces left to pollute your world.</p>
</div>
</div>
<div class="section" id="virtualenvwrapper">
<h2>VirtualenvWrapper<a class="headerlink" href="#virtualenvwrapper" title="Permalink to this headline">¶</a></h2>
<p>So you have this great tool that allows you to build isolated environments in
which you can install Python software. Several questions arise when considering
this.</p>
<ul class="simple">
<li>Where should such environments be placed?</li>
<li>How can the environments be tied to the projects you are working on?</li>
<li>Once you have more than a trivial number of projects, how can you keep track
of all these virtualenvs?</li>
</ul>
<p>Like any good tool, <tt class="docutils literal"><span class="pre">virtualenv</span></tt> does not impose on you any particular way of
working. You can place your environments into the directories where you are
building the project to which they apply. You can keep them all in a single
global location. You can build a random path generator that drops them
wherever.</p>
<p>But any of these methods lead inevetably to chaos. They require too much from
you. It would be better if you could manage your virtual environments easily
and intuitively.</p>
<p>With <a class="reference external" href="http://virtualenvwrapper.readthedocs.org">virtualenvwrapper</a> you can.</p>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s start by installing the package in our system Python, alongside
<tt class="docutils literal"><span class="pre">virtualenv</span></tt> (again, you&#8217;ll need <tt class="docutils literal"><span class="pre">superuser</span></tt> to do this):</p>
<div class="highlight-bash"><div class="highlight"><pre>$ sudo pip install virtualenvwrapper
Downloading/unpacking virtualenvwrapper
  Downloading virtualenvwrapper-4.2.tar.gz (125kB): 125kB downloaded
  Running setup.py (path:/private/tmp/pip_build_root/virtualenvwrapper/setup.py) egg_info for package virtualenvwrapper
  ...
Successfully installed virtualenvwrapper virtualenv-clone stevedore
Cleaning up...
$
</pre></div>
</div>
<p>Once that&#8217;s finished, you&#8217;ll need to wire the system up by letting your shell
know that the commands it provides are present. Add the following lines to your
shell startup file (<tt class="docutils literal"><span class="pre">.profile</span></tt>, <tt class="docutils literal"><span class="pre">.bash-profile</span></tt>, ...):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">WORKON_HOME</span><span class="o">=</span>~/.virtualenvs
<span class="nb">source</span> /usr/local/bin/virtualenvwrapper.sh
</pre></div>
</div>
<p>This will create a new environmental variable, <tt class="docutils literal"><span class="pre">WORKON_HOME</span></tt>, that determines
where new virtual environments will be created. The actual name is completely
arbitrary.</p>
<p>You&#8217;ll need to be sure that the location you set exists:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir ~/.virtualenvs
</pre></div>
</div>
</div>
<div class="section" id="using-mkvirtualenv">
<h3>Using <tt class="docutils literal"><span class="pre">mkvirtualenv</span></tt><a class="headerlink" href="#using-mkvirtualenv" title="Permalink to this headline">¶</a></h3>
<p>When you&#8217;ve done that, start a new terminal and you&#8217;ll have access to the
<tt class="docutils literal"><span class="pre">mkvirtualenv</span></tt> command:</p>
<div class="highlight-bash"><div class="highlight"><pre>$ mkvirtualenv testenv
New python executable in testenv/bin/python
Installing setuptools, pip...done.
(testenv)$ ls ~/.virtualenvs
testenv
(testenv)$ which python
/Users/cewing/.virtualenvs/testenv/bin/python
(testenv)$
</pre></div>
</div>
<p>Notice a couple of things:</p>
<ul class="simple">
<li>The new environment you asked for was created in <tt class="docutils literal"><span class="pre">WORKON_HOME</span></tt></li>
<li>The new environment was <em>immedately</em> activated for you</li>
</ul>
<p>That&#8217;s a nice feature, eh? No more needing to remember to <tt class="docutils literal"><span class="pre">activate</span></tt> the env
you just created to install packages.</p>
</div>
<div class="section" id="using-workon">
<h3>Using <tt class="docutils literal"><span class="pre">workon</span></tt><a class="headerlink" href="#using-workon" title="Permalink to this headline">¶</a></h3>
<p>In addition to this nice little feature, you can also use the <tt class="docutils literal"><span class="pre">workon</span></tt>
command to see which environments you have, and to switch from one to another:</p>
<div class="highlight-bash"><div class="highlight"><pre>(testenv)$ workon
testenv
(testenv)$ mkvirtualenv number2
New python executable in number2/bin/python
Installing setuptools, pip...done.
(number2)$ workon
number2
testenv
(number2)$ workon testenv
(testenv)$
</pre></div>
</div>
<p>Sweet!</p>
<p>The same <tt class="docutils literal"><span class="pre">deactivate</span></tt> command can get you back to your system environment:</p>
<div class="highlight-bash"><div class="highlight"><pre>(testenv)$ deactivate
$
</pre></div>
</div>
</div>
<div class="section" id="using-mkproject">
<h3>Using <tt class="docutils literal"><span class="pre">mkproject</span></tt><a class="headerlink" href="#using-mkproject" title="Permalink to this headline">¶</a></h3>
<p>That takes care of deciding where to put new environments. It also clears up
the question of how to remember which ones you have and how to start them up
and switch between them. But we still have to figure out how to remember which
environment goes with which project.</p>
<p>That&#8217;s what the <tt class="docutils literal"><span class="pre">mkproject</span></tt> command is for.</p>
<p>First, go back to your shell startup file and add a new environmental variable:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">PROJECT_HOME</span><span class="o">=</span>~/projects <span class="c">#&lt;- this line here is new</span>
<span class="nb">export </span><span class="nv">WORKON_HOME</span><span class="o">=</span>~/.virtualenvs
<span class="nb">source</span> /usr/local/bin/virtualenvwrapper.sh
</pre></div>
</div>
<p>Then, make sure the directory you named exists:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkdir ~/projects
</pre></div>
</div>
<p>After all that, fire up a new shell to pick up the changes and try this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>mkproject foo
New python executable in foo/bin/python
Installing setuptools, pip...done.
Creating /Users/cewing/projects/foo
Setting project <span class="k">for </span>foo to /Users/cewing/projects/foo
<span class="o">(</span>foo<span class="o">)</span><span class="nv">$ </span>which python
/Users/cewing/.virtualenvs/foo/bin/python
<span class="o">(</span>foo<span class="o">)</span><span class="nv">$ </span><span class="nb">pwd</span>
/Users/cewing/projects/foo
<span class="o">(</span>foo<span class="o">)</span><span class="nv">$ </span>ls -a <span class="nv">$VIRTUAL_ENV</span>
.       .Python     bin     lib
..      .project    include
<span class="o">(</span>foo<span class="o">)</span><span class="nv">$ </span>more <span class="nv">$VIRTUAL_ENV</span>/.project
/Users/cewing/projects/foo
</pre></div>
</div>
<p>Whoa! That command did a lot:</p>
<ul class="simple">
<li>Created a new <tt class="docutils literal"><span class="pre">virtualenv</span></tt> in your <tt class="docutils literal"><span class="pre">$WORKON_HOME</span></tt></li>
<li>Created a new project directory in your <tt class="docutils literal"><span class="pre">$PROJECT_HOME</span></tt></li>
<li>Placed a <tt class="docutils literal"><span class="pre">.project</span></tt> file in your home directory with a path leading to the
associated project directory</li>
<li>Activated the new virtualenv for you</li>
<li>Automatically moved your present working directory to the new project
directory.</li>
</ul>
<p>And now, you can begin working on your <tt class="docutils literal"><span class="pre">foo</span></tt> project, secure that you will be
installing packages into the right environment.</p>
</div>
</div>
<div class="section" id="a-few-last-words">
<h2>A Few Last Words<a class="headerlink" href="#a-few-last-words" title="Permalink to this headline">¶</a></h2>
<p>This quick introduction is <strong>by no means</strong> an exhaustive manual for either of
the packages we&#8217;ve talked about. There is a great deal more that they can do.
In particular, <tt class="docutils literal"><span class="pre">virtualenvwrapper</span></tt> is highly customizable, with support for
custom scripts to be hooked into every stage of the <tt class="docutils literal"><span class="pre">virtualenv</span></tt> workflow.</p>
<p>I urge you to read the documentation for <a class="reference external" href="http://www.virtualenv.org/">virtualenv</a> and <a class="reference external" href="http://virtualenvwrapper.readthedocs.org">virtualenvwrapper</a>
yourself to find out more.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sublime_as_ide.html" class="btn btn-neutral float-right" title="Turning Sublime Text Into a Lightweight Python IDE"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="python_for_linux.html" class="btn btn-neutral" title="Setting up Linux for Python and this class"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Christopher Barker, Cris Ewing, .
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>