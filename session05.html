

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Session Five: Advanced Argument passing, List and Dict Comprehensions &mdash; Introduction To Python 1.3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Introduction To Python 1.3 documentation" href="index.html"/>
        <link rel="next" title="Session Six: Functional and Object Oriented Programming" href="session06.html"/>
        <link rel="prev" title="Session Four: Dictionaries, Sets, Exceptions, and Files" href="session04.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Introduction To Python
          

          
          </a>

          
            
            
              <div class="version">
                1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="session01.html">Session One: Introductions</a></li>
<li class="toctree-l1"><a class="reference internal" href="session02.html">Session Two: gitHub, Functions, Booleans and Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="session03.html">Session Three: Sequences, Iteration and String Formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="session04.html">Session Four: Dictionaries, Sets, Exceptions, and Files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Session Five: Advanced Argument passing, List and Dict Comprehensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lightning-talks-today">Lightning Talks Today:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#review-questions">Review/Questions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#review-of-previous-class">Review of Previous Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#homework-review">Homework review</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-review">Code Review</a></li>
<li class="toctree-l3"><a class="reference internal" href="#my-solutions">My Solutions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#advanced-argument-passing">Advanced Argument Passing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#keyword-arguments">Keyword arguments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-arguments-in-variables">Function arguments in variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-parameters-in-variables">Function parameters in variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#passing-a-dict-to-str-format">Passing a dict to str.format()</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#a-bit-more-on-mutability-and-copies">A bit more on mutability (and copies)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mutable-objects">mutable objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-copy-module">The copy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mutables-as-default-arguments">Mutables as default arguments:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lab">LAB</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lightning-talks">Lightning Talks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#list-and-dict-comprehensions">List and Dict Comprehensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#list-comprehensions">List comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-comprehensions">Set Comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dict-comprehensions">Dict Comprehensions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id1">LAB</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Lightning Talks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#test-runners">Test Runners</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standard-library-unittest">Standard Library: <code class="docutils literal"><span class="pre">unittest</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-unittest">Using <code class="docutils literal"><span class="pre">unittest</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3">LAB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#homework">Homework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#catch-up">Catch up!</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">List comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dict-and-set-comprehensions"><code class="docutils literal"><span class="pre">dict</span></code> and <code class="docutils literal"><span class="pre">set</span></code> comprehensions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#material-to-review-for-homework">Material to review for Homework:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="session06.html">Session Six: Functional and Object Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="session07.html">Session Seven: More OO</a></li>
<li class="toctree-l1"><a class="reference internal" href="session08.html">Session Eight: Callable classes, Iterators, Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="session09.html">Session Nine: Decorators, Context Managers, Packages and packaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="session10.html">Session Ten: Unicode, Wrap Up</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="exercises/index.html">Homework Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="supplements/index.html">Supplemental Materials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Introduction To Python</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Session Five: Advanced Argument passing, List and Dict Comprehensions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/session05.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="session-five-advanced-argument-passing-list-and-dict-comprehensions">
<h1>Session Five: Advanced Argument passing, List and Dict Comprehensions<a class="headerlink" href="#session-five-advanced-argument-passing-list-and-dict-comprehensions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lightning-talks-today">
<h2>Lightning Talks Today:<a class="headerlink" href="#lightning-talks-today" title="Permalink to this headline">¶</a></h2>
<p class="medium">Darcy Balcarce</p>
<p class="medium">Eric Buer</p>
<p class="medium">Henry B Fischer</p>
<p class="medium">Kyle R Hart</p>
</div>
<div class="section" id="review-questions">
<h2>Review/Questions<a class="headerlink" href="#review-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="review-of-previous-class">
<h3>Review of Previous Class<a class="headerlink" href="#review-of-previous-class" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Dictionaries</li>
<li>Exceptions</li>
<li>Files, etc.</li>
</ul>
</div></blockquote>
<p class="center large">How many of you finished ALL the homework?</p>
<p class="center large">Sorry about that!</p>
<ul class="medium simple">
<li>That was a lot.</li>
</ul>
<ul class="build medium simple">
<li>But it&#8217;s all good stuff.</li>
<li>I want time to go over it in class.</li>
<li>So I&#8217;m ditching Unicode &#8211; we&#8217;ll hit it in the last class</li>
</ul>
</div>
<div class="section" id="homework-review">
<h3>Homework review<a class="headerlink" href="#homework-review" title="Permalink to this headline">¶</a></h3>
<p>Homework Questions?</p>
<p>My Solutions to ALL the excercises in the class repo in:</p>
<p><code class="docutils literal"><span class="pre">Solutions/Session04</span></code></p>
<p>A few tidbits ....</p>
<p>dicts aren&#8217;t sorted, so what if you want to do something in a sorted way?</p>
<p>The &#8220;old&#8221; way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">keys</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Other options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span>

<span class="nb">sorted</span><span class="p">()</span>
</pre></div>
</div>
<p>(demo)</p>
</div>
<div class="section" id="code-review">
<h3>Code Review<a class="headerlink" href="#code-review" title="Permalink to this headline">¶</a></h3>
<p class="center medium">Anyone stuck or confused that&#8217;s willing to volunteer for a live code review?</p>
</div>
<div class="section" id="my-solutions">
<h3>My Solutions<a class="headerlink" href="#my-solutions" title="Permalink to this headline">¶</a></h3>
<p>Anyone look at my solutions?</p>
<p>(yeah, not much time for that...)</p>
<p>Anything in particular you&#8217;d like me to go over?</p>
</div>
</div>
<div class="section" id="advanced-argument-passing">
<h2>Advanced Argument Passing<a class="headerlink" href="#advanced-argument-passing" title="Permalink to this headline">¶</a></h2>
<div class="section" id="keyword-arguments">
<h3>Keyword arguments<a class="headerlink" href="#keyword-arguments" title="Permalink to this headline">¶</a></h3>
<p>When defining a function, you can specify only what you need &#8211; in any order</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [151]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="go">        print x,y,z</span>
<span class="gp">   .....:</span>
<span class="gp">In [152]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1 2 3</span>
<span class="gp">In [153]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1 0 3</span>
<span class="gp">In [154]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 2 3</span>
</pre></div>
</div>
<p>A Common Idiom:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">do_something_different</span>
    <span class="n">go_on_here</span>
</pre></div>
</div>
<p>Can set defaults to variables</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [156]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [157]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
<span class="go">    print &quot;x is:&quot;, x</span>
<span class="gp">   .....:</span>
<span class="gp">In [158]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
</pre></div>
</div>
<p>Defaults are evaluated when the function is defined</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [156]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [157]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
<span class="go">    print &quot;x is:&quot;, x</span>
<span class="gp">   .....:</span>
<span class="gp">In [158]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
<span class="gp">In [159]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">In [160]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
</pre></div>
</div>
</div>
<div class="section" id="function-arguments-in-variables">
<h3>Function arguments in variables<a class="headerlink" href="#function-arguments-in-variables" title="Permalink to this headline">¶</a></h3>
<p>function arguments are really just</p>
<ul class="simple">
<li>a tuple (positional arguments)</li>
<li>a dict (keyword arguments)</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&quot;position: </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> -- shape: </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>

<span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;h&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="p">(</span> <span class="o">*</span><span class="n">position</span><span class="p">,</span> <span class="o">**</span><span class="n">size</span><span class="p">)</span>
<span class="n">position</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">--</span> <span class="n">shape</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="function-parameters-in-variables">
<h3>Function parameters in variables<a class="headerlink" href="#function-parameters-in-variables" title="Permalink to this headline">¶</a></h3>
<p>You can also pull the parameters out in the function as a tuple and a dict:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="go">def f(*args, **kwargs):</span>
<span class="go">    print &quot;the positional arguments are:&quot;, args</span>
<span class="go">    print &quot;the keyword arguments are:&quot;, kwargs</span>

<span class="gp">In [389]: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">this</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">that</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="go">the positional arguments are: (2, 3)</span>
<span class="go">the keyword arguments are: {&#39;this&#39;: 5, &#39;that&#39;: 7}</span>
</pre></div>
</div>
<p>This can be very powerful...</p>
</div>
<div class="section" id="passing-a-dict-to-str-format">
<h3>Passing a dict to str.format()<a class="headerlink" href="#passing-a-dict-to-str-format" title="Permalink to this headline">¶</a></h3>
<p>Now that you know that keyword args are really a dict,
you can do this nifty trick:</p>
<p>The <code class="docutils literal"><span class="pre">format</span></code> method takes keyword arguments:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [24]: </span><span class="s">u&quot;My name is {first} {last}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">last</span><span class="o">=</span><span class="s">u&quot;Barker&quot;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="s">u&quot;Chris&quot;</span><span class="p">)</span>
<span class="gh">Out[24]: </span><span class="go">u&#39;My name is Chris Barker&#39;</span>
</pre></div>
</div>
<p>Build a dict of the keys and values:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">u&quot;last&quot;</span><span class="p">:</span><span class="s">u&quot;Barker&quot;</span><span class="p">,</span> <span class="s">u&quot;first&quot;</span><span class="p">:</span><span class="s">u&quot;Chris&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>And pass to <code class="docutils literal"><span class="pre">format()``with</span> <span class="pre">``**</span></code></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [26]: </span><span class="s">u&quot;My name is {first} {last}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
<span class="gh">Out[26]: </span><span class="go">u&#39;My name is Chris Barker&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-bit-more-on-mutability-and-copies">
<h2>A bit more on mutability (and copies)<a class="headerlink" href="#a-bit-more-on-mutability-and-copies" title="Permalink to this headline">¶</a></h2>
<div class="section" id="mutable-objects">
<h3>mutable objects<a class="headerlink" href="#mutable-objects" title="Permalink to this headline">¶</a></h3>
<p>We&#8217;ve talked about this: mutable objects can have their contents changed in place.</p>
<p>Immutable objects can not.</p>
<p>This has implications when you have a container with mutable objects in it:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [28]: </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>one way to make a copy of a list:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [29]: </span><span class="n">list2</span> <span class="o">=</span> <span class="n">list1</span><span class="p">[:]</span>

<span class="gp">In [30]: </span><span class="n">list2</span> <span class="ow">is</span> <span class="n">list1</span>
<span class="gh">Out[30]: </span><span class="go">False</span>
</pre></div>
</div>
<p>they are different lists.</p>
<p>What if we set an element to a new value?</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [31]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>

<span class="gp">In [32]: </span><span class="n">list1</span>
<span class="gh">Out[32]: </span><span class="go">[[5, 6, 7], [&#39;a&#39;, &#39;b&#39;]]</span>

<span class="gp">In [33]: </span><span class="n">list2</span>
<span class="gh">Out[33]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;]]</span>
</pre></div>
</div>
<p>So they are independent.</p>
<p>But what if we mutate an element?</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [34]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">)</span>

<span class="gp">In [35]: </span><span class="n">list1</span>
<span class="gh">Out[35]: </span><span class="go">[[5, 6, 7], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>

<span class="gp">In [36]: </span><span class="n">list2</span>
<span class="gh">Out[36]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p>uuh oh! mutating an element in one list mutated the one in the other list.</p>
<p>Why is that?</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [38]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">list2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gh">Out[38]: </span><span class="go">True</span>
</pre></div>
</div>
<p>The elements are the same object!</p>
<p>This is known as a &#8220;shallow&#8221; copy &#8211; Python doesn&#8217;t want to copy more than it needs to, so in this case, it makes a new list, but does not make copies of the contents.</p>
<p>Same for dicts (and any container type)</p>
<p>If the elements are immutable, it doesn&#8217;t really make a differnce &#8211; but be very careful with mutable elements.</p>
</div>
<div class="section" id="the-copy-module">
<h3>The copy module<a class="headerlink" href="#the-copy-module" title="Permalink to this headline">¶</a></h3>
<p>most objects have a way to make copies (<code class="docutils literal"><span class="pre">dict.copy()</span></code> for instance).</p>
<p>but if not, you can use the <code class="docutils literal"><span class="pre">copy</span></code> module to make a copy:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [39]: </span><span class="kn">import</span> <span class="nn">copy</span>

<span class="gp">In [40]: </span><span class="n">list3</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">list3</span>
<span class="gh">Out[41]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p>This is also a shallow copy.</p>
<p>But there is another option:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">list1</span>
<span class="gh">Out[3]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>

<span class="gp">In [4]: </span><span class="n">list2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">list1</span>
<span class="gh">Out[6]: </span><span class="go">[[1, 2, 3, 4], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>

<span class="gp">In [7]: </span><span class="n">list2</span>
<span class="gh">Out[7]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">deepcopy</span></code> recurses through the object, making copies of everything as it goes.</p>
<p>I happened on this thread on stack overflow:</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/3975376/understanding-dict-copy-shallow-or-deep">http://stackoverflow.com/questions/3975376/understanding-dict-copy-shallow-or-deep</a></p>
<p>The OP is pretty confused &#8211; can you sort it out?</p>
<p>Make sure you understand the difference between a reference, a shallow copy, and a deep copy.</p>
</div>
<div class="section" id="mutables-as-default-arguments">
<h3>Mutables as default arguments:<a class="headerlink" href="#mutables-as-default-arguments" title="Permalink to this headline">¶</a></h3>
<p>Another &#8220;gotcha&#8221; is using mutables as default arguments:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="p">[]):</span>
<span class="gp">   ....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">print</span> <span class="n">a</span>
<span class="gp">   ....:</span>
</pre></div>
</div>
<p>This makes sense: maybe you&#8217;d pass in a list, but the default is an empty list.</p>
<p>But:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [12]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3]</span>

<span class="gp">In [13]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[3, 4]</span>
</pre></div>
</div>
<p>Huh?!</p>
<p>Remember that that default argument is defined when the function is created: there will be only one list, and every time the function is called, that same list is used.</p>
<p>The solution:</p>
<p>The standard practice for such a mutable default argument:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [15]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">   ....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">print</span> <span class="n">a</span>
<span class="gp">In [16]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3]</span>
<span class="gp">In [17]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[4]</span>
</pre></div>
</div>
<p>You get a new list every time the function is called</p>
</div>
<div class="section" id="lab">
<h3>LAB<a class="headerlink" href="#lab" title="Permalink to this headline">¶</a></h3>
<p class="medium">keyword arguments:</p>
<ul class="simple">
<li>Write a function that has four optional parameters (with defaults):<ul>
<li>fore_color</li>
<li>back_color</li>
<li>link_color</li>
<li>visited_color</li>
</ul>
</li>
<li>Have it print the colors (use strings for the colors)</li>
<li>Call it with a couple different parameters set</li>
<li>Have it pull the parameters out with <code class="docutils literal"><span class="pre">*args,</span> <span class="pre">**kwargs</span></code></li>
</ul>
</div>
<div class="section" id="lightning-talks">
<h3>Lightning Talks<a class="headerlink" href="#lightning-talks" title="Permalink to this headline">¶</a></h3>
<div class="medium line-block">
<div class="line"><br /></div>
<div class="line">Darcy Balcarce</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line">Eric Buer</div>
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="list-and-dict-comprehensions">
<h2>List and Dict Comprehensions<a class="headerlink" href="#list-and-dict-comprehensions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="list-comprehensions">
<h3>List comprehensions<a class="headerlink" href="#list-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>A bit of functional programming</p>
<p>consider this common <code class="docutils literal"><span class="pre">for</span></code> loop structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>This can be expressed with a single line using a &#8220;list comprehension&#8221;</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expression</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">]</span>
</pre></div>
</div>
<p>What about nested for loops?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">var2</span> <span class="ow">in</span> <span class="n">a_list2</span><span class="p">:</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>Can also be expressed in one line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span>  <span class="p">[</span><span class="n">exp</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">for</span> <span class="n">var2</span> <span class="ow">in</span> <span class="n">a_list2</span><span class="p">]</span>
</pre></div>
</div>
<p>You get the &#8220;outer product&#8221;, i.e. all combinations.</p>
<p>(demo)</p>
<p>But usually you at least have a conditional in the loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">something_is_true</span><span class="p">:</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>You can add a conditional to the comprehension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expr</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">if</span> <span class="n">something_is_true</span><span class="p">]</span>
</pre></div>
</div>
<p>(demo)</p>
<p>Examples:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [341]: </span><span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gh">Out[341]: </span><span class="go">[0, 1, 4]</span>

<span class="gp">In [342]: </span><span class="p">[</span><span class="n">x</span><span class="o">+</span><span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">)]</span>
<span class="gh">Out[342]: </span><span class="go">[5, 6, 6, 7, 7, 8]</span>

<span class="gp">In [343]: </span><span class="p">[</span><span class="n">x</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span><span class="o">%</span><span class="k">2</span>]
<span class="gh">Out[343]: </span><span class="go">[0, 4, 8]</span>
</pre></div>
</div>
<p>Remember this from last week?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtin__</span><span class="p">)</span> <span class="k">if</span> <span class="s">&quot;Error&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;ArithmeticError&#39;</span><span class="p">,</span>
 <span class="s">&#39;AssertionError&#39;</span><span class="p">,</span>
 <span class="s">&#39;AttributeError&#39;</span><span class="p">,</span>
 <span class="s">&#39;BufferError&#39;</span><span class="p">,</span>
 <span class="s">&#39;EOFError&#39;</span><span class="p">,</span>
 <span class="o">....</span>
</pre></div>
</div>
</div>
<div class="section" id="set-comprehensions">
<h3>Set Comprehensions<a class="headerlink" href="#set-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>You can do it with sets, too:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_set</span> <span class="o">=</span> <span class="p">{</span> <span class="n">value</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_sequence</span> <span class="p">}</span>
</pre></div>
</div>
<p>same as for loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="n">new_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>Example: finding all the vowels in a string...</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;a not very long string&quot;</span>

<span class="gp">In [20]: </span><span class="n">vowels</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s">&#39;aeiou&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="p">{</span> <span class="n">let</span> <span class="k">for</span> <span class="n">let</span> <span class="ow">in</span> <span class="n">s</span> <span class="k">if</span> <span class="n">let</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="p">}</span>
<span class="gh">Out[21]: </span><span class="go">{&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;}</span>
</pre></div>
</div>
<p>Side note: why did I do <code class="docutils literal"><span class="pre">set('aeiou')</span></code> rather than just <cite>aeiou</cite> ?</p>
</div>
<div class="section" id="dict-comprehensions">
<h3>Dict Comprehensions<a class="headerlink" href="#dict-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>Also with dictionaries</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">}</span>
</pre></div>
</div>
<p>same as for loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="n">new_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
<p>Example</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [22]: </span><span class="p">{</span> <span class="n">i</span><span class="p">:</span> <span class="s">&quot;this_</span><span class="si">%i</span><span class="s">&quot;</span><span class="o">%</span><span class="k">i</span> for i in range(5) }
<span class="gh">Out[22]: </span><span class="go">{0: &#39;this_0&#39;, 1: &#39;this_1&#39;, 2: &#39;this_2&#39;,</span>
<span class="go">          3: &#39;this_3&#39;, 4: &#39;this_4&#39;}</span>
</pre></div>
</div>
<p>(not as useful with the <code class="docutils literal"><span class="pre">dict()</span></code>  constructor...)</p>
</div>
</div>
<div class="section" id="id1">
<h2>LAB<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>See the list comps exercises...</p>
<div class="section" id="id2">
<h3>Lightning Talks<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="medium line-block">
<div class="line"><br /></div>
<div class="line">Some person</div>
<div class="line"><br /></div>
<div class="line"><br /></div>
<div class="line">Some other person</div>
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<div class="build left container">
<p>You&#8217;ve already seen some a very basic testing strategy.</p>
<p>You&#8217;ve written some tests using that strategy.</p>
<p>These tests were pretty basic, and a bit awkward in places (testing error
conditions in particular).</p>
<p class="centered"><strong>It gets better</strong></p>
</div>
<div class="section" id="test-runners">
<h3>Test Runners<a class="headerlink" href="#test-runners" title="Permalink to this headline">¶</a></h3>
<p>So far our tests have been limited to code in an <code class="docutils literal"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;:</span></code>
block.</p>
<ul class="build simple">
<li>They are run only when the file is executed</li>
<li>They are always run when the file is executed</li>
<li>You can&#8217;t do anything else when the file is executed without running tests.</li>
</ul>
<div class="build container">
<p>This is not optimal.</p>
<p>Python provides testing systems to help.</p>
</div>
</div>
<div class="section" id="standard-library-unittest">
<h3>Standard Library: <code class="docutils literal"><span class="pre">unittest</span></code><a class="headerlink" href="#standard-library-unittest" title="Permalink to this headline">¶</a></h3>
<p>The original testing system in Python.</p>
<p><code class="docutils literal"><span class="pre">import</span> <span class="pre">unittest</span></code></p>
<p>More or less a port of Junit from Java</p>
<p>A bit verbose: you have to write classes &amp; methods</p>
<p>(And we haven&#8217;t covered that yet!)</p>
</div>
<div class="section" id="using-unittest">
<h3>Using <code class="docutils literal"><span class="pre">unittest</span></code><a class="headerlink" href="#using-unittest" title="Permalink to this headline">¶</a></h3>
<p>You write subclasses of the <code class="docutils literal"><span class="pre">unittest.TestCase</span></code> class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># in test.py</span>
<span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">MyTests</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_tautology</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Then you run the tests by using the <code class="docutils literal"><span class="pre">main</span></code> function from the <code class="docutils literal"><span class="pre">unittest</span></code>
module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># in test.py</span>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>This way, you can write your code in one file and test it from another:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># in my_mod.py</span>
<span class="k">def</span> <span class="nf">my_func</span><span class="p">(</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">val1</span> <span class="o">*</span> <span class="n">val2</span>

<span class="c"># in test_my_mod.py</span>
<span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">from</span> <span class="nn">my_mod</span> <span class="kn">import</span> <span class="n">my_func</span>

<span class="k">class</span> <span class="nc">MyFuncTestCase</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_my_func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">test_vals</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">expected</span> <span class="o">=</span> <span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_vals</span><span class="p">)</span>
        <span class="n">actual</span> <span class="o">=</span> <span class="n">my_func</span><span class="p">(</span><span class="o">*</span><span class="n">test_vals</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<div class="build container">
<p>The <code class="docutils literal"><span class="pre">unittest</span></code> module is pretty full featured</p>
<p>It comes with the standard Python distribution, no installation required.</p>
<p>It provides a wide variety of assertions for testing all sorts of situations.</p>
<p>It allows for a setup and tear down workflow both before and after all tests
and before and after each test.</p>
<p>It&#8217;s well known and well understood.</p>
</div>
<div class="build container">
<p>It&#8217;s Object Oriented, and quite heavy.</p>
<blockquote>
<div><ul class="simple">
<li>modeled after Java&#8217;s <code class="docutils literal"><span class="pre">junit</span></code> and it shows...</li>
</ul>
</div></blockquote>
<p>It uses the framework design pattern, so knowing how to use the features
means learning what to override.</p>
<p>Needing to override means you have to be cautious.</p>
<p>Test discovery is both inflexible and brittle.</p>
</div>
<p>There are several other options for running tests in Python.</p>
<ul class="simple">
<li><a class="reference external" href="https://nose.readthedocs.org/">Nose</a></li>
<li><a class="reference external" href="http://pytest.org/latest/">pytest</a></li>
<li>... (many frameworks supply their own test runners)</li>
</ul>
<p>We are going to play today with pytest</p>
<p>The first step is to install the package:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="o">(</span>cff2py<span class="o">)</span><span class="nv">$ </span>pip install pytest
</pre></div>
</div>
<p>Once this is complete, you should have a <code class="docutils literal"><span class="pre">py.test</span></code> command you can run
at the command line:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>py.test
</pre></div>
</div>
<p>If you have any tests in your repository, that will find and run them.</p>
<div class="build container">
<strong>Do you?</strong></div>
<p>Let&#8217;s take a look at some examples.</p>
<p><code class="docutils literal"><span class="pre">\Examples\Session05</span></code></p>
<p>`` $ py.test``</p>
<p>You can also run py.test on a particular test file:</p>
<p><code class="docutils literal"><span class="pre">py.test</span> <span class="pre">test_this.py</span></code></p>
<p>The results you should have seen when you ran <code class="docutils literal"><span class="pre">py.test</span></code> above come
partly from these files.</p>
<p>Let&#8217;s take a few minutes to look these files over.</p>
<p>[demo]</p>
<p>When you run the <code class="docutils literal"><span class="pre">py.test</span></code> command, <code class="docutils literal"><span class="pre">pytest</span></code> starts in your current
working directory and searches the filesystem for things that might be tests.</p>
<p>It follows some simple rules:</p>
<ul class="build simple">
<li>Any python file that starts with <code class="docutils literal"><span class="pre">test_</span></code> or <code class="docutils literal"><span class="pre">_test</span></code> is imported.</li>
<li>Any functions in them that start with <code class="docutils literal"><span class="pre">test_</span></code> are run as tests.</li>
<li>Any classes that start with <code class="docutils literal"><span class="pre">Test</span></code> are treated similarly, with methods that
begin with <code class="docutils literal"><span class="pre">test_</span></code> treated as tests.</li>
</ul>
<p>This test running framework is simple, flexible and configurable.</p>
<p><a class="reference external" href="http://pytest.org/latest/getting-started.html#getstarted">Read the documentation</a> for more information.</p>
<p>What we&#8217;ve just done here is the first step in what is called <strong>Test Driven
Development</strong>.</p>
<p>A bunch of tests exist, but the code to make them pass does not yet exist.</p>
<p>The red you see in the terminal when we run our tests is a goad to us to write
the code that fixes these tests.</p>
<p>Let&#8217;s do that next!</p>
</div>
</div>
<div class="section" id="id3">
<h2>LAB<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Pick an example from codingbat:</p>
<p><code class="docutils literal"><span class="pre">http://codingbat.com</span></code></p>
<p>Do a bit of test-driven development on it:</p>
<blockquote>
<div><ul class="simple">
<li>run somethign on the web site.</li>
<li>write a few tests using the examples from the site.</li>
<li>then write the function, and fix it &#8216;till it passes the tests.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="homework">
<h2>Homework<a class="headerlink" href="#homework" title="Permalink to this headline">¶</a></h2>
<div class="section" id="catch-up">
<h3>Catch up!<a class="headerlink" href="#catch-up" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>First task &#8211; catch up from last week.<ul>
<li>and add some tests</li>
<li>and list (and dict, and set) comprehensions...</li>
</ul>
</li>
<li>Then on to some exercises....</li>
</ul>
</div>
<div class="section" id="id4">
<h3>List comprehensions<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Note: this is a bit of a &#8220;backwards&#8221; exercise &#8211;
we show you code, you figure out what it does.</p>
<p>As a result, not much to submit &#8211; but so we can give you credit, submit
a file with a solution to the final problem.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">feast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;lambs&#39;</span><span class="p">,</span> <span class="s">&#39;sloths&#39;</span><span class="p">,</span> <span class="s">&#39;orangutans&#39;</span><span class="p">,</span> <span class="s">&#39;breakfast cereals&#39;</span><span class="p">,</span> <span class="s">&#39;fruit bats&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span><span class="n">delicacy</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">delicacy</span> <span class="ow">in</span> <span class="n">feast</span><span class="p">]</span>
</pre></div>
</div>
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">???</span>
</pre></div>
</div>
<p>(figure it out before you try it)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">feast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;spam&#39;</span><span class="p">,</span> <span class="s">&#39;sloths&#39;</span><span class="p">,</span> <span class="s">&#39;orangutans&#39;</span><span class="p">,</span> <span class="s">&#39;breakfast cereals&#39;</span><span class="p">,</span>
<span class="go">            &#39;fruit bats&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span><span class="n">delicacy</span> <span class="k">for</span> <span class="n">delicacy</span> <span class="ow">in</span> <span class="n">feast</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">delicacy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">feast</span><span class="p">)</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">comprehension</span><span class="p">)</span>
<span class="go">???</span>
</pre></div>
</div>
<p>(figure it out first!)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_tuples</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;lumberjack&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;inquisition&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s">&#39;spam&#39;</span><span class="p">)]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span> <span class="n">skit</span> <span class="o">*</span> <span class="n">number</span> <span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">skit</span> <span class="ow">in</span> <span class="n">list_of_tuples</span> <span class="p">]</span>
</pre></div>
</div>
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">comprehension</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">???</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_eggs</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;poached egg&#39;</span><span class="p">,</span> <span class="s">&#39;fried egg&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_meats</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;lite spam&#39;</span><span class="p">,</span> <span class="s">&#39;ham spam&#39;</span><span class="p">,</span> <span class="s">&#39;fried spam&#39;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span> <span class="s">&#39;{0} and {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">egg</span><span class="p">,</span> <span class="n">meat</span><span class="p">)</span> <span class="k">for</span> <span class="n">egg</span> <span class="ow">in</span> <span class="n">list_of_eggs</span> <span class="k">for</span> <span class="n">meat</span> <span class="ow">in</span> <span class="n">list_of_meats</span><span class="p">]</span>
</pre></div>
</div>
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">comprehension</span><span class="p">)</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">???</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">{</span> <span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="s">&#39;aabbbcccc&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span>
<span class="go">???</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_of_weapons</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;first&#39;</span><span class="p">:</span> <span class="s">&#39;fear&#39;</span><span class="p">,</span>
<span class="go">                       &#39;second&#39;: &#39;surprise&#39;,</span>
<span class="go">                       &#39;third&#39;:&#39;ruthless efficiency&#39;,</span>
<span class="go">                       &#39;forth&#39;:&#39;fanatical devotion&#39;,</span>
<span class="go">                       &#39;fifth&#39;: None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_comprehension</span> <span class="o">=</span> \
<span class="go">{ k.upper(): weapon for k, weapon in dict_of_weapons.iteritems() if weapon}</span>
</pre></div>
</div>
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;first&#39;</span> <span class="ow">in</span> <span class="n">dict_comprehension</span>
<span class="go">???</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;FIRST&#39;</span> <span class="ow">in</span> <span class="n">dict_comprehension</span>
<span class="go">???</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">dict_of_weapons</span><span class="p">)</span>
<span class="go">???</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">dict_comprehension</span><span class="p">)</span>
<span class="go">???</span>
</pre></div>
</div>
<p>See also:</p>
<p><a class="reference external" href="https://github.com/gregmalcolm/python_koans">https://github.com/gregmalcolm/python_koans</a></p>
<p><a class="reference external" href="https://github.com/gregmalcolm/python_koans/blob/master/python2/koans/about_comprehension.py">https://github.com/gregmalcolm/python_koans/blob/master/python2/koans/about_comprehension.py</a></p>
<p>Use test-driven development!</p>
<p>This is from CodingBat &#8220;count_evens&#8221; (<a class="reference external" href="http://codingbat.com/prob/p189616">http://codingbat.com/prob/p189616</a>)</p>
<p><em>Using a list comprehension</em>, return the number of even ints in the given array.</p>
<p>Note: the % &#8220;mod&#8221; operator computes the remainder, e.g. <code class="docutils literal"><span class="pre">5</span> <span class="pre">%</span> <span class="pre">2</span></code> is 1.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">count_evens</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="mi">3</span>

<span class="n">count_evens</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">3</span>

<span class="n">count_evens</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">count_evens</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
   <span class="n">one_line_comprehension_here</span>
</pre></div>
</div>
</div>
<div class="section" id="dict-and-set-comprehensions">
<h3><code class="docutils literal"><span class="pre">dict</span></code> and <code class="docutils literal"><span class="pre">set</span></code> comprehensions<a class="headerlink" href="#dict-and-set-comprehensions" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s revisiting the dict/set lab &#8211; see how much you can do with
comprehensions instead.</p>
<p>Specifically,  look at these:</p>
<p>First a slightly bigger, more interesting (or at least bigger..) dict:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">food_prefs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">u&quot;Chris&quot;</span><span class="p">,</span>
              <span class="s">u&quot;city&quot;</span><span class="p">:</span> <span class="s">u&quot;Seattle&quot;</span><span class="p">,</span>
              <span class="s">u&quot;cake&quot;</span><span class="p">:</span> <span class="s">u&quot;chocolate&quot;</span><span class="p">,</span>
              <span class="s">u&quot;fruit&quot;</span><span class="p">:</span> <span class="s">u&quot;mango&quot;</span><span class="p">,</span>
              <span class="s">u&quot;salad&quot;</span><span class="p">:</span> <span class="s">u&quot;greek&quot;</span><span class="p">,</span>
              <span class="s">u&quot;pasta&quot;</span><span class="p">:</span> <span class="s">u&quot;lasagna&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>1. Print the dict by passing it to a string format method, so that you
get something like:</p>
<blockquote>
<div><dl class="docutils">
<dt>&#8220;Chris is from Seattle, and he likes chocolate cake, mango fruit,</dt>
<dd>greek salad, and lasagna pasta&#8221;</dd>
</dl>
</div></blockquote>
<p>2. Using a list comprehension, build a dictionary of numbers from zero
to fifteen and the hexadecimal equivalent (string is fine).</p>
<ol class="arabic simple" start="3">
<li>Do the previous entirely with a dict comprehension &#8211; should be a one-liner</li>
</ol>
<p>4. Using the dictionary from item 1: Make a dictionary using the same
keys but with the number of &#8216;a&#8217;s in each value. You can do this either
by editing the dict in place, or making a new one. If you edit in place,
make a copy first!</p>
<p>5. Create sets s2, s3 and s4 that contain numbers from zero through twenty,
divisible 2, 3 and 4.</p>
<blockquote>
<div><ol class="loweralpha simple">
<li>Do this with one set comprehension for each set.</li>
<li>What if you had a lot more than 3? &#8211; Don&#8217;t Repeat Yourself (DRY)<ul>
<li>create a sequence that holds all three sets</li>
<li>loop through that sequence to build the sets up &#8211; so no repeated code.</li>
</ul>
</li>
<li>Extra credit:  do it all as a one-liner by nesting a set comprehension inside a list comprehension. (OK, that may be getting carried away!)</li>
</ol>
</div></blockquote>
</div>
</div>
<div class="section" id="material-to-review-for-homework">
<h2>Material to review for Homework:<a class="headerlink" href="#material-to-review-for-homework" title="Permalink to this headline">¶</a></h2>
<p>Raymond Hettinger:</p>
<p><a class="reference external" href="https://youtu.be/HTLu2DFOdTg">https://youtu.be/HTLu2DFOdTg</a></p>
<p><a class="reference external" href="https://speakerdeck.com/pyconslides/pythons-class-development-toolkit-by-raymond-hettinger">https://speakerdeck.com/pyconslides/pythons-class-development-toolkit-by-raymond-hettinger</a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="session06.html" class="btn btn-neutral float-right" title="Session Six: Functional and Object Oriented Programming" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="session04.html" class="btn btn-neutral" title="Session Four: Dictionaries, Sets, Exceptions, and Files" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Christopher Barker, Cris Ewing, .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>